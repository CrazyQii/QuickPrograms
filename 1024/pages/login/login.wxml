<cu-custom bgColor="bg-gradual-blue">
  <view slot="content">1024</view>
</cu-custom>

<!-- 前置页面，请求获取昵称头像权限 -->
<view class="margin-xl padding-xl bg-white radius shadow shadow-lg">
  <view class="flex justify-center">
    <view wx:if="{{ !hasOpenUserInfo }}" class="padding flex-direction">
      <button class="cu-btn bg-green lg" bindtap="getOpenUserInfo">获取头像和昵称</button>
    </view>
    <block wx:else> 
      <view class='text-center'>
        <view class="cu-avatar xl round solids" style="background-image:url({{userInfo.avatarUrl}})"></view>
        <view class="padding">{{userInfo.nickName}}</view>
      </view>
    </block>
  </view>
</view>

<!-- 联系人信息注册页面 -->
<form  wx:if="{{ hasOpenUserInfo }}" bindsubmit="register">
  <view class="solids-bottom padding-xs flex align-center">
    <view class="flex-sub text-center">
      <view class="solid-top text-lg padding">
        <text class="text-black">领奖联系人登记</text>
      </view>
    </view>
  </view>
  <view class="cu-form-group">
    <view class="title">姓名:</view>
    <input name="userName"></input>
  </view>
  <view class="cu-form-group">
    <view class="title">手机:</view>
    <input name="mobile" value="17364520479"></input>
  </view>
  <view class="cu-form-group">
    <view class="title">科室:</view>
    <input name="apartment"></input>
  </view>
  <view class="padding flex flex-direction">
    <button class="margin-top cu-btn bg-green lg" formType="submit">注册</button>
  </view>
</form>

<!-- 模态框 -->
<view class="cu-modal {{ modal==true?'show':'' }}">
  <view class="cu-dialog">
    <view class="cu-bar bg-white justify-end">
      <view class="content text-red">提示</view>
      <view class="action" bindtap="cancelModal">
        <text class="cuIcon-close text-red"></text>
      </view>
    </view>
    <view class="padding-xl">
      {{ modalInfo }}
    </view>
  </view>
</view>